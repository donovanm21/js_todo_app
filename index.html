<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="Javascript ToDo Application" >
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="includes/js/scripts.js"></script>
        <link rel="stylesheet" href="includes/css/styles.css" >
        <title>Retro JS | ToDo App</title>
    </head>
    <body>
        <div class="wrapper">
            <div class="content">
                <!-- Header Section -->
                <div class="header">
                    <header>
                        <h1>Retro JS | ToDo App</h1>
                        <p id="greeting" style="text-align: center;"></p>
                    </header>
                </div>
                <!-- Category Section -->
                <div class="categories">
                    <h2>Categories</h2>
                    <div class="grid-container" id="category-grid"></div>
                </div>
                <!-- Task Section -->
                <div class="task-list">
                    <h2 class="center">Task List</h2>
                    <div class="task-wrapper" id="task-wrapper">
                    </div>
                </div>
                <!-- Task Button for adding tasks -->
                <div class="add-task" onclick="newTaskToggle();">
                    <div class="add-button">+</div>
                    <div class="clear"></div>
                </div>
                
                <!-- Add new task section -->
                <div id="add-task-toggle" class="add-task-section hidden">
                    <h2>Add New Task</h2>
                    <div class="add-task-form">
                        <form id="new-task-form" action="#" method="POST">
                            <label class="task-label">Title</label>
                                <input class="task-input" id="new-task-title" type="text" placeholder="House Work"/>
                            <label class="task-label">Description</label>
                                <textarea class="task-input" id="new-task-description" placeholder="Task Description"></textarea>
                            <label class="task-label">Date Due</label>
                                <input class="task-input" id="new-task-date-due" type="date" />
                            <label class="task-label">Time Due</label>
                                <input class="task-input" id="new-task-time-due" type="time" />
                            <label class="task-label">Priority</label>
                                <input id="new-task-slider" class="task-input" type="range" min="1" max="3" />
                                <div id="new-task-priority"></div>
                            <label class="task-label">Categories</label>
                                <!-- Find a style that creates selectable buttons -->
                                <div class="new-task-categories" id="new-task-categories">
                                </div>
                                <!-- Function will grab this input if not empty to create a new category -->
                                <input class="task-input new-category" id="new-task-category" type="text" placeholder="New Category"/>
                            <input class="submit" type="submit" name="" onclick="addNewTask();" value="Create"/>
                        </form>
                    </div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>

                <!-- Task preview section -->
                <div id="task-preview-toggle" class="task-preview-section hidden">
                    <h2>Task Preview</h2>
                    <div class="task-preview-form">
                        <form id="task-preview-form" action="#" method="POST">
                            <input type="hidden" id="task-preview-taskkey" />
                            <label class="task-label">Title</label>
                                <input class="task-input" id="task-preview-title" type="text" placeholder="House Work"/>
                            <label class="task-label">Description</label>
                                <textarea class="task-input" id="task-preview-description" placeholder="Task Description" value=""></textarea>
                            <label class="task-label">Date Due</label>
                                <input class="task-input" id="task-preview-date-due" type="date" value=""/>
                            <label class="task-label">Time Due</label>
                                <input class="task-input" id="task-preview-time-due" type="time" value=""/>
                            <label class="task-label">Priority</label>
                                <input id="task-preview-slider" class="task-input" type="range" min="1" max="3" value=""/>
                                <div id="task-preview-priority"></div>
                            <label class="task-label">Categories</label>
                                <!-- Find a style that creates selectable buttons -->
                                <div class="task-preview-categories" id="task-preview-categories">
                                </div>
                                <!-- Function will grab this input if not empty to create a new category -->
                                <input class="task-input new-category" id="task-preview-category" type="text" placeholder="New Category"/>
                            <input class="submit" type="submit" name="" onclick="updateTask('u');" value="Update"/>
                            <input class="submit" type="submit" name="" onclick="updateTask('c');" value="Complete"/>
                            <input class="submit hidden" id="task-delete" type="submit" name="" onclick="updateTask('d');" value="Delete"/>
                        </form>
                    </div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
            <div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
        <!-- Footer Section -->
        <footer></footer>
    </body>
    <script>
        // Initialization of the app on first load
        appInit();
        // Category loader for existing categories
        catLoad();
        // Get all existing tasks
        getTasks();
        // Categories selection for new tasks
        getCategories('n','new-task-categories');
        // Categories selection for preview of existing tasks
        getCategories('p','task-preview-categories');
        // Slider for new tasks
        sliderDisplay('new-task-slider', 'new-task-priority');
        // Slider for task preview and update
        sliderDisplay('task-preview-slider', 'task-preview-priority');

        // Form Action
        //document.getElementById('new-task-form').addEventListener('click', function(event){
        //    event.preventDefault();
        //    let taskPriority = document.getElementById('new-task-priority').value;
        //});

        // Display new task form
        function newTaskToggle(){
            document.getElementById('add-task-toggle').classList.remove('hidden');
        }
        // Display task preview field
        function previewTaskToggle(){
            document.getElementById('task-preview-toggle').classList.remove('hidden');
        }
    </script>
</html>